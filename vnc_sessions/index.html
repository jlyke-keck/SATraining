<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>VNC Sessions - SA Training and Basic Concepts</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "VNC Sessions";
    var mkdocs_page_input_path = "vnc_sessions.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> SA Training and Basic Concepts</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="..">Intro</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../keywords/">Keywords</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../services/">Keyword Services</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../scripts/">Instrument Scripts</a>
	    </li>
          
            <li class="toctree-l1 current">
		
    <a class="current" href="./">VNC Sessions</a>
    <ul class="subnav">
            
    <li class="toctree-l2"><a href="#instrument-vnc-sessions">Instrument VNC Sessions</a></li>
    
        <ul>
        
            <li><a class="toctree-l3" href="#introduction">Introduction</a></li>
        
            <li><a class="toctree-l3" href="#kvncstatus">kvncstatus</a></li>
        
            <li><a class="toctree-l3" href="#kvnc">kvnc</a></li>
        
            <li><a class="toctree-l3" href="#kvncmanager">kvncmanager</a></li>
        
        </ul>
    

    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../magiq/">MAGIQ</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../starlists/">Starlists</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../target_acquisition/">Target Acquisition</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../facsum/">FACSUM</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../keola/">KEOLA</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../sias/">SIAS</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../focus/">Focus</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../conk/">conk</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../kroot/">KROOT</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../oas/">OAs</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../observers/">Observers</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../pointing_origins/">Pointing Origins</a>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">SA Training and Basic Concepts</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>VNC Sessions</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="instrument-vnc-sessions">Instrument VNC Sessions</h1>
<h2 id="introduction">Introduction</h2>
<p>Keck instruments are controlled through VNC sessions.  These sessions are desktops which exist on the VNC server which is <em>not</em> the instrument server.  The VNC servers provides the windowing environment, but may or may not run any actual GUIs or keyword services for the instruments.  Some GUIS may be brought up and displayed through ssh (i.e. using <code>ssh -X</code>).</p>
<p>Prior to 2018, all Keck instrument VNC desktops were served from one of two SunOS machines (<code>svncserver1</code> and <code>svncserver2</code>).  Since then many instrument have transitioned to having their own linux based VNC server.  The instrumeent specific VNC server is typically named with the instrument name (i.e. <code>mosfire</code>), however there are aliases to vm-instrumentname (i.e. <code>vm-mosfire</code>) as these were created as virtual machines and their network names were chosen to reflect that.</p>
<h2 id="kvncstatus">kvncstatus</h2>
<p>There is a command on each VNC server called <code>kvncstatus</code> which will list all of the VNC sessions currently running on that server.  To only get the VNC sessions running for the current user, run <code>kvncstatus -c</code>.  Note that the older SunOS based VNC servers have slightly different options and behaviors.</p>
<h2 id="kvnc">kvnc</h2>
<p>The <code>kvnc</code> command can be used to start and stop VNC sessions.  The format is <code>kvnc [command] [desktops]</code>.  By default, this operates on the desktops associated with the current user.  For example, if the desktops used by the mosfire1 account were acting up and I wanted to restart all four of them, I would log in to the VNC server as user mosfire1 (i.e. <code>ssh mosfire1@mosfire</code>), I would then issue the command <code>kvnc stop servers</code> which would shut down all desktops associated with the mosfire1 user.  I could then start them again by issuing the command <code>kvnc start servers</code>.  I can also start or stop and individual desktop specifically (i.e. <code>kvnc stop telstatus</code>).</p>
<h2 id="kvncmanager">kvncmanager</h2>
<p>The <code>kvncmanager</code> script manages the scheduled shutdown and start up of the various VNC sessions based on the telescope schedule.</p>
<p>The advantage of shutting down and starting up the VNC sessions periodically is that destroying the desktop automatically closes any GUIs which might have been left running.  This is especially useful for some of our older IDL based GUIs as they occupy a license even when not in use.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../magiq/" class="btn btn-neutral float-right" title="MAGIQ">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../scripts/" class="btn btn-neutral" title="Instrument Scripts"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../scripts/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../magiq/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>

</body>
</html>
