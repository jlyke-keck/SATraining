{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"SA Training and Basic Concepts These pages are intended to provide a very high level overview of tools and concepts in use at Keck Observatory that SAs should be familiar with. These are not intended to be complete documentation, just a high level overview. Contents Keywords Services Scripts VNC Sessions MAGIQ Starlists Target Acquisition FACSUM KEOLA SIAS Focus conk KROOT OAs observers Pointing Origins","title":"Intro"},{"location":"#sa-training-and-basic-concepts","text":"These pages are intended to provide a very high level overview of tools and concepts in use at Keck Observatory that SAs should be familiar with. These are not intended to be complete documentation, just a high level overview.","title":"SA Training and Basic Concepts"},{"location":"#contents","text":"Keywords Services Scripts VNC Sessions MAGIQ Starlists Target Acquisition FACSUM KEOLA SIAS Focus conk KROOT OAs observers Pointing Origins","title":"Contents"},{"location":"conk/","text":"","title":"conk"},{"location":"facsum/","text":"FACSUM and XMET FACSUM and XMET are two simple status displays intended to be used with all instruments. FACSUM gives basic telescope status while XMET gives weather information. The screenshow above shows an example FACSUM display. Across the top are various status indicators for the telescope systems. For typical observations, they should all be green for normal operations. The center and right regions show various standard telescope information (RA, Dec, El, Az, etc.). The bottom row of display has several sections The leftmost box has instrument and pointing information. INST: The selected instrument (MOSFIRE in the example above). PO: The pointing origin (REF in the example above). The next box to the right shows rotator information Rot Mode: The rotator mode which is typically either \"Stationary\", \"Position Angle\", or \"Vertical\" Sky PA: This shows the position angle on sky (typically of the instrument slit) if the mode is \"Position Angle\". In other modes, this number has other meanings. For example, in vertical angle mode, a \"Sky PA\" of 0 means the slit is oriented in elevation. Drive: This is the physical angle of the drive. It is unique t each instrument and it does not wrap (i.e. it may not go 0-360). The right hand box contains information on ACS. XMET (or just MET) shows weather information. The most important values for observers are the 4 colored balls next to the dew point differential and precipitation values in the upper right. If any temperature is within 2 degrees C of the dew point, then that indicator turns red. Within 5 C, the indicator is yellow. If the dew point differential is more than 5 C, the indicator is green. If any indicator is red, the OA is supposed to close the dome. To open after a closure, those indicators must all be out of the red for 30 minutes. The OA has several conditions which must also be met before opening, this is only one of them.","title":"FACSUM"},{"location":"facsum/#facsum-and-xmet","text":"FACSUM and XMET are two simple status displays intended to be used with all instruments. FACSUM gives basic telescope status while XMET gives weather information. The screenshow above shows an example FACSUM display. Across the top are various status indicators for the telescope systems. For typical observations, they should all be green for normal operations. The center and right regions show various standard telescope information (RA, Dec, El, Az, etc.). The bottom row of display has several sections The leftmost box has instrument and pointing information. INST: The selected instrument (MOSFIRE in the example above). PO: The pointing origin (REF in the example above). The next box to the right shows rotator information Rot Mode: The rotator mode which is typically either \"Stationary\", \"Position Angle\", or \"Vertical\" Sky PA: This shows the position angle on sky (typically of the instrument slit) if the mode is \"Position Angle\". In other modes, this number has other meanings. For example, in vertical angle mode, a \"Sky PA\" of 0 means the slit is oriented in elevation. Drive: This is the physical angle of the drive. It is unique t each instrument and it does not wrap (i.e. it may not go 0-360). The right hand box contains information on ACS. XMET (or just MET) shows weather information. The most important values for observers are the 4 colored balls next to the dew point differential and precipitation values in the upper right. If any temperature is within 2 degrees C of the dew point, then that indicator turns red. Within 5 C, the indicator is yellow. If the dew point differential is more than 5 C, the indicator is green. If any indicator is red, the OA is supposed to close the dome. To open after a closure, those indicators must all be out of the red for 30 minutes. The OA has several conditions which must also be met before opening, this is only one of them.","title":"FACSUM and XMET"},{"location":"focus/","text":"Focus There are several different focus procedures at Keck. Some are internal to the instrument and some are internal focus inside the instruments. This page does not attempt to be comprehensive, only to give a flavor of the different strategies. Telescope Focus Telescope focus (i.e. moving the piston of the secondary mirror to focus the telescope on to the instrument's image plane) is typically performed by to OA. There are two standard ways of doing this. MIRA The MIRA process adjusts the tip and tilt of the individual primary mirror segments to separate the images from each segment. If this is done with two tilts (in and out), then an extrapolation to the correct focus position can be calculated and the corresponding secondary piston adjustment sent. In addition, the positions of the segment images can be used to adjust the tip and tilt of the secondary to zero out coma. As a general rule of thumb, MIRA is typically done on the first night with any instrument after it has been put on the telescope. This is done in order to set the secondary tilts. After that, we may do focus using either autofoc (see below) or MIRA. Some observers prefer MIRA for whatever reason, this is fine, but it does take a bit longer to do than autofoc. In addition, some instruments should always do MIRA as the first choice. MOSFIRE is one example because there is no slit viewing camera to do autofoc on. Autofoc Autofoc is a process that can be run via MAGIQ using the guider cameras. It does a more traditional method of finding focus in which it moves the secondary and measures image quality (FWHM). It then fits a parabola to the values and determines the position of best focus. Because this runs on a guider camera, that camera must be accurately parfocalized to the instrument. If the guider is a slit viewing camera, this is done (otherwise the slit itself would appear blurry in the guide image). For guiders which are looking off axis (such as with MOSFIRE) this is not ensured at the same level, so an autofoc using those guiders is less desirable, but is a reasonable coarse of action if doing MIRA is not possible for whatever reason. Instrument Internal Focus Several instruments (e.g. LRIS, ESI, KCWI) require an internal focusing process be done periodically. In the case of LRIS, this is done every day in the afternoon. For ESI, this is done once before each run. The goal of these processes are to focus the internal optics on to the plane where the telescope will be focussed later during the night. This is typically done by monitoring the width of spectral lines formed by an arc lamp and stepping through focus positions and choosing the best position by fitting a parabola to the resulting plot of FWHM vs. position. For some instruments (notably LRIS) there may be multiple internal focal planes. For LRIS, the long slit focal plane is slightly different than the MOS mask and imaging focal planes, so there are two different modes in which to perform the internal focus.","title":"Focus"},{"location":"focus/#focus","text":"There are several different focus procedures at Keck. Some are internal to the instrument and some are internal focus inside the instruments. This page does not attempt to be comprehensive, only to give a flavor of the different strategies.","title":"Focus"},{"location":"focus/#telescope-focus","text":"Telescope focus (i.e. moving the piston of the secondary mirror to focus the telescope on to the instrument's image plane) is typically performed by to OA. There are two standard ways of doing this.","title":"Telescope Focus"},{"location":"focus/#mira","text":"The MIRA process adjusts the tip and tilt of the individual primary mirror segments to separate the images from each segment. If this is done with two tilts (in and out), then an extrapolation to the correct focus position can be calculated and the corresponding secondary piston adjustment sent. In addition, the positions of the segment images can be used to adjust the tip and tilt of the secondary to zero out coma. As a general rule of thumb, MIRA is typically done on the first night with any instrument after it has been put on the telescope. This is done in order to set the secondary tilts. After that, we may do focus using either autofoc (see below) or MIRA. Some observers prefer MIRA for whatever reason, this is fine, but it does take a bit longer to do than autofoc. In addition, some instruments should always do MIRA as the first choice. MOSFIRE is one example because there is no slit viewing camera to do autofoc on.","title":"MIRA"},{"location":"focus/#autofoc","text":"Autofoc is a process that can be run via MAGIQ using the guider cameras. It does a more traditional method of finding focus in which it moves the secondary and measures image quality (FWHM). It then fits a parabola to the values and determines the position of best focus. Because this runs on a guider camera, that camera must be accurately parfocalized to the instrument. If the guider is a slit viewing camera, this is done (otherwise the slit itself would appear blurry in the guide image). For guiders which are looking off axis (such as with MOSFIRE) this is not ensured at the same level, so an autofoc using those guiders is less desirable, but is a reasonable coarse of action if doing MIRA is not possible for whatever reason.","title":"Autofoc"},{"location":"focus/#instrument-internal-focus","text":"Several instruments (e.g. LRIS, ESI, KCWI) require an internal focusing process be done periodically. In the case of LRIS, this is done every day in the afternoon. For ESI, this is done once before each run. The goal of these processes are to focus the internal optics on to the plane where the telescope will be focussed later during the night. This is typically done by monitoring the width of spectral lines formed by an arc lamp and stepping through focus positions and choosing the best position by fitting a parabola to the resulting plot of FWHM vs. position. For some instruments (notably LRIS) there may be multiple internal focal planes. For LRIS, the long slit focal plane is slightly different than the MOS mask and imaging focal planes, so there are two different modes in which to perform the internal focus.","title":"Instrument Internal Focus"},{"location":"keola/","text":"KEOLA The Keck Electronic Observing Log Archive (KEOLA) is a web based tool available inside the Keck network. It monitors the data directories for each program during the night and reads the FITS headers of the files there and displays a table of metadata for each file. The goal is to replace (for those observers who want it), the written logs one might typically take. Observers can add comments to each file entry by scrolling to the right most column and entering their comment there. They can also get timing info as to when sunset, twilight times, half time, etc. are on the logs page. At the end of the run, the logs are saved to the PI's observer login page, so they have a copy for themselves. This is the only way for observers to access these logs after the observing night. For those with admin access (i.e. SAs), you can grab logs from any past run, so if an observer needs a copy for some reason you can bring them up and click the \"Print/Save\" button and send them the resulting file.","title":"KEOLA"},{"location":"keola/#keola","text":"The Keck Electronic Observing Log Archive (KEOLA) is a web based tool available inside the Keck network. It monitors the data directories for each program during the night and reads the FITS headers of the files there and displays a table of metadata for each file. The goal is to replace (for those observers who want it), the written logs one might typically take. Observers can add comments to each file entry by scrolling to the right most column and entering their comment there. They can also get timing info as to when sunset, twilight times, half time, etc. are on the logs page. At the end of the run, the logs are saved to the PI's observer login page, so they have a copy for themselves. This is the only way for observers to access these logs after the observing night. For those with admin access (i.e. SAs), you can grab logs from any past run, so if an observer needs a copy for some reason you can bring them up and click the \"Print/Save\" button and send them the resulting file.","title":"KEOLA"},{"location":"keywords/","text":"Keywords One of the Keck software infrastructure strengths is the keyword system. All instrument functions should be controllable by keywords. This creates a common interface layer for all instruments. Under normal circumstances, SAs will not need to dive in to the details of the interface protocols for any given component of the instrument (e.g. serial interface, USB interface, etc.). The two most basic actions one can perform with a keyword are show and modify which report the value of a keyword and change the value respectively. Not all keywords can be modified and some can not show, and a number of the details vary across instruments, but in general, with these two tools one can create any higher level control interface ths is desires (e.g. a script or GUI). Both show and modify need to be executed with an argument which specifies which service the keyword is in. For example, if I wanted to find out how full the HIRES liquid nitrogen dewar is, I would query the hiccd service for the DWRN2LV keyword value: hires{hireseng}61: show -s hiccd DWRN2LV DWRN2LV = 10.618933 percent full By calling show with the -s argument and then specifying the hiccd service and DWRN2LV keyword, I get the information I want. Note, in this example, the DWRN2LV keyword can not be modified. Another example would be the raw encoder count position of the HIRES cross disperser angle. To view the current position I would query the hires service for the XDRAW keyword: hires{hireseng}62: show -s hires XDRAW XDRAW = -1373 encoder pulses The XDRAW value is able to be modified. I could do that with the modify command and then verify the final position with show : hires{hireseng}63: modify -s hires XDRAW=-1000 setting XDRAW = -1000 (wait) hires{hireseng}64: show -s hires XDRAW XDRAW = -997 encoder pulses Note that while I have followed the convention of writing the service name in lowercase and the keyword name in all caps, this is not necessary as the commands are case insensitive. There are other commands for keywords: xshow will pop up a small window with one or more keywords and their values and will continuously update them. This is basically a very simple status GUI. cshow will continuously show the keyword value, printing a new line whenever the value is updated and is a good way to monitor a changing situation. gshow is not always available, it tends to be installed on newer machines only. It is a more modern and capable version of show and has many options. For services which have a keyword history monitor, gshow can display a history of the keyword values and even generate simple plots of the values over time.","title":"Keywords"},{"location":"keywords/#keywords","text":"One of the Keck software infrastructure strengths is the keyword system. All instrument functions should be controllable by keywords. This creates a common interface layer for all instruments. Under normal circumstances, SAs will not need to dive in to the details of the interface protocols for any given component of the instrument (e.g. serial interface, USB interface, etc.). The two most basic actions one can perform with a keyword are show and modify which report the value of a keyword and change the value respectively. Not all keywords can be modified and some can not show, and a number of the details vary across instruments, but in general, with these two tools one can create any higher level control interface ths is desires (e.g. a script or GUI). Both show and modify need to be executed with an argument which specifies which service the keyword is in. For example, if I wanted to find out how full the HIRES liquid nitrogen dewar is, I would query the hiccd service for the DWRN2LV keyword value: hires{hireseng}61: show -s hiccd DWRN2LV DWRN2LV = 10.618933 percent full By calling show with the -s argument and then specifying the hiccd service and DWRN2LV keyword, I get the information I want. Note, in this example, the DWRN2LV keyword can not be modified. Another example would be the raw encoder count position of the HIRES cross disperser angle. To view the current position I would query the hires service for the XDRAW keyword: hires{hireseng}62: show -s hires XDRAW XDRAW = -1373 encoder pulses The XDRAW value is able to be modified. I could do that with the modify command and then verify the final position with show : hires{hireseng}63: modify -s hires XDRAW=-1000 setting XDRAW = -1000 (wait) hires{hireseng}64: show -s hires XDRAW XDRAW = -997 encoder pulses Note that while I have followed the convention of writing the service name in lowercase and the keyword name in all caps, this is not necessary as the commands are case insensitive. There are other commands for keywords: xshow will pop up a small window with one or more keywords and their values and will continuously update them. This is basically a very simple status GUI. cshow will continuously show the keyword value, printing a new line whenever the value is updated and is a good way to monitor a changing situation. gshow is not always available, it tends to be installed on newer machines only. It is a more modern and capable version of show and has many options. For services which have a keyword history monitor, gshow can display a history of the keyword values and even generate simple plots of the values over time.","title":"Keywords"},{"location":"kroot/","text":"KROOT Typically, core instrument software is located in \"kroot\" which is usually located or linked at /kroot on the instrument computers. All the \"released\" (compiled) code specific to the instrument is there. There are exceptions however, some instruments have scripts in the bin directory on the eng account or sometimes another account. A few scripts common to multiple instruments may be located on a shared directory in /sol/apps/kroot/summit/instr/bin (or other symlinked names). The released code will typically be in /kroot/rel and its subdirectories. Where source code lives can vary from instrument to instrument. One pattern which exists is to have either (or both) dev and bld accounts which have their own kroot (typically in their home directories) and which have a src subdirectory under that kroot . When the software is \"released\", the new code in the src directory is compiled (if necessary) and then copied to the /kroot/rel directory which all account see. There is variation in the release process, but the basic ideas described here should help you being to navigate our source code.","title":"KROOT"},{"location":"kroot/#kroot","text":"Typically, core instrument software is located in \"kroot\" which is usually located or linked at /kroot on the instrument computers. All the \"released\" (compiled) code specific to the instrument is there. There are exceptions however, some instruments have scripts in the bin directory on the eng account or sometimes another account. A few scripts common to multiple instruments may be located on a shared directory in /sol/apps/kroot/summit/instr/bin (or other symlinked names). The released code will typically be in /kroot/rel and its subdirectories. Where source code lives can vary from instrument to instrument. One pattern which exists is to have either (or both) dev and bld accounts which have their own kroot (typically in their home directories) and which have a src subdirectory under that kroot . When the software is \"released\", the new code in the src directory is compiled (if necessary) and then copied to the /kroot/rel directory which all account see. There is variation in the release process, but the basic ideas described here should help you being to navigate our source code.","title":"KROOT"},{"location":"magiq/","text":"","title":"MAGIQ"},{"location":"oas/","text":"Observing Assistants (OAs) The actual operation of the observatory is done by the OAs and observers. As a result, the OAs work closely with the observers during the night. The SA's responsibility is usually centered around the instrument operation and troubleshooting. There are several areas where the OAs have particular expertise, but where they or the observers might ask for your input: Target Acquisition Depending on the instrument, the OAs will be heavily involved in target aquisition . As a result, they are usually very good at identifying the target among the star pattern in the guider. If the target is quite challenging to identify, the observer should have prepared finder charts. If there is difficulty acquiring, you might join in to help identify the correct target, but for the most part this will fall to the OAs and observer. Focusing The OAs are primarily responsible for focusing the telescope using either MIRA or autofoc. They will almost always perform focus as one of the first activities of the night. Performing additional focus runs during the night may be useful. The observer is the one who has to decide whether the time spent on focusing is worth the benefit, so they will likely ask for advice on this. Use your personal experience in advising them, but keep in mind that the OAs are very familiar with how the focus behaves through the night as conditions change, so I almost always suggest that the observer consult the OAs. Safety The OAs have primary responsibility for the safety of personnel and equipment at night. They use various rules and rules of thumb to make safety determinations on decisions like opening and closing or abandoning the summit. They are also usually in contact with other observatories regarding these decisions. As the SA, I would defer to them on all safety decisions and I would never pressure them to reverse a decision to close or abandon the summit for safety reasons. Of course, if you see a possible safety problem which they might not be aware of (e.g. a bank of fog approaching on the cameras), you should make them aware of it.","title":"OAs"},{"location":"oas/#observing-assistants-oas","text":"The actual operation of the observatory is done by the OAs and observers. As a result, the OAs work closely with the observers during the night. The SA's responsibility is usually centered around the instrument operation and troubleshooting. There are several areas where the OAs have particular expertise, but where they or the observers might ask for your input:","title":"Observing Assistants (OAs)"},{"location":"oas/#target-acquisition","text":"Depending on the instrument, the OAs will be heavily involved in target aquisition . As a result, they are usually very good at identifying the target among the star pattern in the guider. If the target is quite challenging to identify, the observer should have prepared finder charts. If there is difficulty acquiring, you might join in to help identify the correct target, but for the most part this will fall to the OAs and observer.","title":"Target Acquisition"},{"location":"oas/#focusing","text":"The OAs are primarily responsible for focusing the telescope using either MIRA or autofoc. They will almost always perform focus as one of the first activities of the night. Performing additional focus runs during the night may be useful. The observer is the one who has to decide whether the time spent on focusing is worth the benefit, so they will likely ask for advice on this. Use your personal experience in advising them, but keep in mind that the OAs are very familiar with how the focus behaves through the night as conditions change, so I almost always suggest that the observer consult the OAs.","title":"Focusing"},{"location":"oas/#safety","text":"The OAs have primary responsibility for the safety of personnel and equipment at night. They use various rules and rules of thumb to make safety determinations on decisions like opening and closing or abandoning the summit. They are also usually in contact with other observatories regarding these decisions. As the SA, I would defer to them on all safety decisions and I would never pressure them to reverse a decision to close or abandon the summit for safety reasons. Of course, if you see a possible safety problem which they might not be aware of (e.g. a bank of fog approaching on the cameras), you should make them aware of it.","title":"Safety"},{"location":"observers/","text":"","title":"Observers"},{"location":"pointing_origins/","text":"Pointing Origins Pointing Origins (POs) are positions defined in the focal plane of the telescope (in units of mm in the X, Y plane). The telescope software (i.e. MAGIQ) will place the target coordinates at this point in the focal plane. In addition, for appropriate tracking modes (i.e. vertical angle mode), this defines the point around which stars in the field will appear to rotate. Most (all?) instruments have a REF pointing origin which places the target in a clear, easy to see position in the focal plane, so that the OAs can see the target (if it is bright enough of course) and perform any fine centering that is needed. Once a target is centerred on REF, the OA would traditionally send it to a different pointing origin for science (e.g. SLIT). By simply selecting a new pointing origin, the target will move in the guider to the new position in the focal plane.","title":"Pointing Origins"},{"location":"pointing_origins/#pointing-origins","text":"Pointing Origins (POs) are positions defined in the focal plane of the telescope (in units of mm in the X, Y plane). The telescope software (i.e. MAGIQ) will place the target coordinates at this point in the focal plane. In addition, for appropriate tracking modes (i.e. vertical angle mode), this defines the point around which stars in the field will appear to rotate. Most (all?) instruments have a REF pointing origin which places the target in a clear, easy to see position in the focal plane, so that the OAs can see the target (if it is bright enough of course) and perform any fine centering that is needed. Once a target is centerred on REF, the OA would traditionally send it to a different pointing origin for science (e.g. SLIT). By simply selecting a new pointing origin, the target will move in the guider to the new position in the focal plane.","title":"Pointing Origins"},{"location":"scripts/","text":"","title":"Instrument Scripts"},{"location":"services/","text":"","title":"Keyword Services"},{"location":"sias/","text":"SIAS The Summit Instrument Activity Schedule (SIAS) is the schedule that is used by summit crews to determine which instrument tasks needs doing, primarily for setting up the instruments for that night. The other use for SIAS is to communicate the release of the instrument and the telescope. Prior to release, no one should remotely command the instrument as day crews may still be working in and around the instrument and moving mechanisms may be a safety issue. Observers should not even start the instrument software until after instrument release. SAs should also be cautious when interacting with the instrument prior to release. In some cases starting the software involves homing mechanisms, so don't assume that nothing is being moved unless you are very familiar with the instrument's startup script. SAs can edit SIAS tasks and SIAS is also where you set up your communication preferences for receiving notifications (i.e. texts) when the instrument and telescope are released.","title":"SIAS"},{"location":"sias/#sias","text":"The Summit Instrument Activity Schedule (SIAS) is the schedule that is used by summit crews to determine which instrument tasks needs doing, primarily for setting up the instruments for that night. The other use for SIAS is to communicate the release of the instrument and the telescope. Prior to release, no one should remotely command the instrument as day crews may still be working in and around the instrument and moving mechanisms may be a safety issue. Observers should not even start the instrument software until after instrument release. SAs should also be cautious when interacting with the instrument prior to release. In some cases starting the software involves homing mechanisms, so don't assume that nothing is being moved unless you are very familiar with the instrument's startup script. SAs can edit SIAS tasks and SIAS is also where you set up your communication preferences for receiving notifications (i.e. texts) when the instrument and telescope are released.","title":"SIAS"},{"location":"starlists/","text":"Starlists Starlists are just text files containing the observers targets for the night. The files are ready by the OA's instance of MAGIQ and can be used to slew the telescope to the selected target and fill in other parameters as needed such as rotator position, non-sidereal tracking rates, offset star information (see target acquisition ), etc. The files need to follow a specific format (see the starlist page for details). If observers have manually created their starlist file or have used a starlist generator such as the one for MOSFIRE, they then need to move the file to a location where the OAs can find it easily. Traditionally, this is in /kroot/starlists/(observer or PI name) , so each observer has a directory which they put their starlists in every time they use Keck. The \"(observer or PI name)\" is a free form name which each individual chooses, so there is no set pattern to them. Web based starlist tool The observer login page has a web based starlist tool where users can generate their starlists. If done this way, there is no need to copy the file over manually as the tool will place it in /kroot/starlists/web/(name) where \"(name)\" is the first initial plus last name of the observer who uploaded it (e.g. for observer Jane Doe, the directory will be /kroot/starlists/web/jdoe ).","title":"Starlists"},{"location":"starlists/#starlists","text":"Starlists are just text files containing the observers targets for the night. The files are ready by the OA's instance of MAGIQ and can be used to slew the telescope to the selected target and fill in other parameters as needed such as rotator position, non-sidereal tracking rates, offset star information (see target acquisition ), etc. The files need to follow a specific format (see the starlist page for details). If observers have manually created their starlist file or have used a starlist generator such as the one for MOSFIRE, they then need to move the file to a location where the OAs can find it easily. Traditionally, this is in /kroot/starlists/(observer or PI name) , so each observer has a directory which they put their starlists in every time they use Keck. The \"(observer or PI name)\" is a free form name which each individual chooses, so there is no set pattern to them.","title":"Starlists"},{"location":"starlists/#web-based-starlist-tool","text":"The observer login page has a web based starlist tool where users can generate their starlists. If done this way, there is no need to copy the file over manually as the tool will place it in /kroot/starlists/web/(name) where \"(name)\" is the first initial plus last name of the observer who uploaded it (e.g. for observer Jane Doe, the directory will be /kroot/starlists/web/jdoe ).","title":"Web based starlist tool"},{"location":"target_acquisition/","text":"Target Acquisition The process of target acquisition is highly instrument dependent. There are a few commonalities however. Single Object Acquisition For instruments which are traditional single slit spectrographs with slit viewing cameras (examples include HIRES, LRIS long slit mode, and ESI), the acquisition procedure will depend on whether the science target is visible in the guide camera. For objects which are visible in the guide camera, the OA will typically handle the acquisition process. Typically they will slew to the target and place it on the REF (pointing origin)[../pointing_origins/]. If there is any doubt about the identity of the target, they will ask the observers to help verify which object in the field is their target. MAGIQ has several tools which can help with this. First, there is a button on MAGIQ labeled \"FOV\" which will overlay the pointing origins on the guider image. Second, there is a DSS tab which will show the DSS image for the field. This tab also has a button to overlay the FOV and a button near it which rotates the DSS image to match the current guider orientation. Once the target has been identified and centered on the REF (pointing origin)[../pointing_origins/], the OA will sen the target to the relevant instrument pointing origin (e.g. \"slit\" or a similar name depending on the instrument). The OA may take a moment to nudge the target on to the slit if they think it is necessary. Once the target is on slit and the telescope is guiding, the observer can being science exposures with the main instrument. If the target is faint, the OA can increase the guider exposure time up to about 10-20 seconds, but this significantly slows down the rate at which pointing adjustments can be made. We can typically identify point sources down to around 20th magnitude. Sometimes a bit fainter depending on the color of the target, the wavelength response of the guide camera, and the seeing. If the target is fainter than that, the observer will need to prepare offset stars for pointing. The offset star should be bright enough to be visible in the guider and have a position that is fairly well known (not typically a problem if modern catalogs were used to find it). The observer can place one (or more) offset stars in their starlist with the offsets from the star to the target. Follow the prescription on the (starlist)[https://www2.keck.hawaii.edu/realpublic/observing/starlist.html] page. They can use this (calculator)[https://www2.keck.hawaii.edu/realpublic/inst/common/offset.php] to help determine the values of the offsets in RA and Dec from the coordinates of the star and the coordinates of the target. MOS Mask Alignment All three instruments which use MOS masks (LRIS, DEIMOS, and MOSFIRE) use the same Slitmask Alignment Tool (SAT). Check each instrument's web page for details, but the process would typically involve two steps. First, the \"guider coarse align\". This step tried to get the alignment to within about an arcsecond or two so that the fine align step can proceed. This step uses the offset guider and simply takes the RA, Dec, and PA from the target in the starlist (or the telescope pointing) and downloads both a DSS and a catalog listing of the stars which should be in the guider image for that pointing. The observer can use the offsets between the expected and measured positions of the guider stars to adjust the pointing. This is not accurate enough to center targets in the slits becase of uncertainties in flexure between the guide camera and the main instrument FoV. The second step is to do a \"fine alignment\". In this step, the science camera images the field of view through the slitmask. Several alignment holes which were designed in to the slitmask have stars of know positions in them and the software will measure those positions, compare them to the expected positions, and calculate the RA, Dec, and rotation offsets necessary to center the instrument accurately on the target field. This is an iterative process and the software guides the observer through the iterations.","title":"Target Acquisition"},{"location":"target_acquisition/#target-acquisition","text":"The process of target acquisition is highly instrument dependent. There are a few commonalities however.","title":"Target Acquisition"},{"location":"target_acquisition/#single-object-acquisition","text":"For instruments which are traditional single slit spectrographs with slit viewing cameras (examples include HIRES, LRIS long slit mode, and ESI), the acquisition procedure will depend on whether the science target is visible in the guide camera. For objects which are visible in the guide camera, the OA will typically handle the acquisition process. Typically they will slew to the target and place it on the REF (pointing origin)[../pointing_origins/]. If there is any doubt about the identity of the target, they will ask the observers to help verify which object in the field is their target. MAGIQ has several tools which can help with this. First, there is a button on MAGIQ labeled \"FOV\" which will overlay the pointing origins on the guider image. Second, there is a DSS tab which will show the DSS image for the field. This tab also has a button to overlay the FOV and a button near it which rotates the DSS image to match the current guider orientation. Once the target has been identified and centered on the REF (pointing origin)[../pointing_origins/], the OA will sen the target to the relevant instrument pointing origin (e.g. \"slit\" or a similar name depending on the instrument). The OA may take a moment to nudge the target on to the slit if they think it is necessary. Once the target is on slit and the telescope is guiding, the observer can being science exposures with the main instrument. If the target is faint, the OA can increase the guider exposure time up to about 10-20 seconds, but this significantly slows down the rate at which pointing adjustments can be made. We can typically identify point sources down to around 20th magnitude. Sometimes a bit fainter depending on the color of the target, the wavelength response of the guide camera, and the seeing. If the target is fainter than that, the observer will need to prepare offset stars for pointing. The offset star should be bright enough to be visible in the guider and have a position that is fairly well known (not typically a problem if modern catalogs were used to find it). The observer can place one (or more) offset stars in their starlist with the offsets from the star to the target. Follow the prescription on the (starlist)[https://www2.keck.hawaii.edu/realpublic/observing/starlist.html] page. They can use this (calculator)[https://www2.keck.hawaii.edu/realpublic/inst/common/offset.php] to help determine the values of the offsets in RA and Dec from the coordinates of the star and the coordinates of the target.","title":"Single Object Acquisition"},{"location":"target_acquisition/#mos-mask-alignment","text":"All three instruments which use MOS masks (LRIS, DEIMOS, and MOSFIRE) use the same Slitmask Alignment Tool (SAT). Check each instrument's web page for details, but the process would typically involve two steps. First, the \"guider coarse align\". This step tried to get the alignment to within about an arcsecond or two so that the fine align step can proceed. This step uses the offset guider and simply takes the RA, Dec, and PA from the target in the starlist (or the telescope pointing) and downloads both a DSS and a catalog listing of the stars which should be in the guider image for that pointing. The observer can use the offsets between the expected and measured positions of the guider stars to adjust the pointing. This is not accurate enough to center targets in the slits becase of uncertainties in flexure between the guide camera and the main instrument FoV. The second step is to do a \"fine alignment\". In this step, the science camera images the field of view through the slitmask. Several alignment holes which were designed in to the slitmask have stars of know positions in them and the software will measure those positions, compare them to the expected positions, and calculate the RA, Dec, and rotation offsets necessary to center the instrument accurately on the target field. This is an iterative process and the software guides the observer through the iterations.","title":"MOS Mask Alignment"},{"location":"vnc_sessions/","text":"Instrument VNC Sessions Introduction Keck instruments are controlled through VNC sessions. These sessions are desktops which exist on the VNC server which is not the instrument server. The VNC servers provides the windowing environment, but may or may not run any actual GUIs or keyword services for the instruments. Some GUIS may be brought up and displayed through ssh (i.e. using ssh -X ). Prior to 2018, all Keck instrument VNC desktops were served from one of two SunOS machines ( svncserver1 and svncserver2 ). Since then many instrument have transitioned to having their own linux based VNC server. The instrumeent specific VNC server is typically named with the instrument name (i.e. mosfire ), however there are aliases to vm-instrumentname (i.e. vm-mosfire ) as these were created as virtual machines and their network names were chosen to reflect that. kvncstatus There is a command on each VNC server called kvncstatus which will list all of the VNC sessions currently running on that server. To only get the VNC sessions running for the current user, run kvncstatus -c . Note that the older SunOS based VNC servers have slightly different options and behaviors. kvnc The kvnc command can be used to start and stop VNC sessions. The format is kvnc [command] [desktops] . By default, this operates on the desktops associated with the current user. For example, if the desktops used by the mosfire1 account were acting up and I wanted to restart all four of them, I would log in to the VNC server as user mosfire1 (i.e. ssh mosfire1@mosfire ), I would then issue the command kvnc stop servers which would shut down all desktops associated with the mosfire1 user. I could then start them again by issuing the command kvnc start servers . I can also start or stop and individual desktop specifically (i.e. kvnc stop telstatus ). kvncmanager The kvncmanager script manages the scheduled shutdown and start up of the various VNC sessions based on the telescope schedule. The advantage of shutting down and starting up the VNC sessions periodically is that destroying the desktop automatically closes any GUIs which might have been left running. This is especially useful for some of our older IDL based GUIs as they occupy a license even when not in use.","title":"VNC Sessions"},{"location":"vnc_sessions/#instrument-vnc-sessions","text":"","title":"Instrument VNC Sessions"},{"location":"vnc_sessions/#introduction","text":"Keck instruments are controlled through VNC sessions. These sessions are desktops which exist on the VNC server which is not the instrument server. The VNC servers provides the windowing environment, but may or may not run any actual GUIs or keyword services for the instruments. Some GUIS may be brought up and displayed through ssh (i.e. using ssh -X ). Prior to 2018, all Keck instrument VNC desktops were served from one of two SunOS machines ( svncserver1 and svncserver2 ). Since then many instrument have transitioned to having their own linux based VNC server. The instrumeent specific VNC server is typically named with the instrument name (i.e. mosfire ), however there are aliases to vm-instrumentname (i.e. vm-mosfire ) as these were created as virtual machines and their network names were chosen to reflect that.","title":"Introduction"},{"location":"vnc_sessions/#kvncstatus","text":"There is a command on each VNC server called kvncstatus which will list all of the VNC sessions currently running on that server. To only get the VNC sessions running for the current user, run kvncstatus -c . Note that the older SunOS based VNC servers have slightly different options and behaviors.","title":"kvncstatus"},{"location":"vnc_sessions/#kvnc","text":"The kvnc command can be used to start and stop VNC sessions. The format is kvnc [command] [desktops] . By default, this operates on the desktops associated with the current user. For example, if the desktops used by the mosfire1 account were acting up and I wanted to restart all four of them, I would log in to the VNC server as user mosfire1 (i.e. ssh mosfire1@mosfire ), I would then issue the command kvnc stop servers which would shut down all desktops associated with the mosfire1 user. I could then start them again by issuing the command kvnc start servers . I can also start or stop and individual desktop specifically (i.e. kvnc stop telstatus ).","title":"kvnc"},{"location":"vnc_sessions/#kvncmanager","text":"The kvncmanager script manages the scheduled shutdown and start up of the various VNC sessions based on the telescope schedule. The advantage of shutting down and starting up the VNC sessions periodically is that destroying the desktop automatically closes any GUIs which might have been left running. This is especially useful for some of our older IDL based GUIs as they occupy a license even when not in use.","title":"kvncmanager"}]}